
<!DOCTYPE html>
<html lang="en">
<head>
	
	<!-- start: Meta -->
	<meta charset="utf-8">
	<title>Flood Light</title>
	<meta name="description" content="Bootstrap Metro Dashboard">
	<meta name="author" content="Dennis Ji">
	<meta name="keyword" content="Metro, Metro UI, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
	<!-- end: Meta -->
	
	<!-- start: Mobile Specific -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- end: Mobile Specific -->
	
	<!-- start: CSS -->
	<link id="bootstrap-style" href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/bootstrap-responsive.min.css" rel="stylesheet">
	<link id="base-style" href="css/style.css" rel="stylesheet">
	<link id="base-style-responsive" href="css/style-responsive.css" rel="stylesheet">
	<link id="base-style-responsive" href="css/docs.min.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&subset=latin,cyrillic-ext,latin-ext' rel='stylesheet' type='text/css'>
	<!-- end: CSS -->
	

	<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<link id="ie-style" href="css/ie.css" rel="stylesheet">
	<![endif]-->
	
	<!--[if IE 9]>
		<link id="ie9style" href="css/ie9.css" rel="stylesheet">
	<![endif]-->
		
	<!-- start: Favicon -->
	<link rel="shortcut icon" href="img/favicon.ico"> 
	<!-- end: Favicon -->
</head>

<body>
		<!-- start: Header -->
	<div class="navbar">
		<div class="navbar-inner">
			<div class="container-fluid">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".top-nav.nav-collapse,.sidebar-nav.nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a class="brand" href="/"><span>FloodLight Viewer</span></a>
								
				<!-- start: Header Menu -->
				<div class="nav-no-collapse header-nav">
					<ul class="nav pull-right">
						
						<li>
							<a class="btn admin-modal" href="#">
								<i class="halflings-icon white wrench"></i>
							</a>
						</li>
						<!-- start: User Dropdown -->
						<li class="dropdown">
							<a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
								<i class="halflings-icon white user"></i> 
								Admin
								<!-- <span class="caret"></span> -->
							</a>
							<!-- <ul class="dropdown-menu"> -->
								<!-- <li class="dropdown-menu-title"> -->
 								<!-- 	<span>Account Settings</span>
								<!-- </li>
								<!-- <li><a href="#"><i class="halflings-icon user"></i> Profile</a></li> -->
								<!-- <li><a href="login.html"><i class="halflings-icon off"></i> Logout</a></li> -->
							<!-- </ul> -->
						</li>
						<!-- end: User Dropdown -->
					</ul>
				</div>
				<!-- end: Header Menu -->
				
			</div>
		</div>
	</div>
	<!-- start: Header -->
	
		<div class="container-fluid-full">
		<div class="row-fluid">
				
			<!-- start: Main Menu -->
			<div id="sidebar-left" class="span2">
				<div class="nav-collapse sidebar-nav">
					<ul class="nav nav-tabs nav-stacked main-menu">
						<li><a href="#" id="dashboard"><i class="icon-bar-chart"></i><span class="hidden-tablet"> Dashboard</span></a></li>	
						<li><a href="#" id="network"><i class="icon-tasks"></i><span class="hidden-tablet"> Network</span></a></li>	
						<li><a href="#" id="topology"><i class="icon-eye-open"></i><span class="hidden-tablet"> Topology</span></a></li>	
						<li><a href="#" id="prediction"><i class="icon-dashboard"></i><span class="hidden-tablet"> Prediction</span></a></li>
						<li><a href="#" id="rule"><i class="icon-edit"></i><span class="hidden-tablet"> Rules</span></a></li>	
						<li><a href="#" id="behaviour"><i class="icon-list-alt"></i><span class="hidden-tablet"> Behaviours</span></a></li>	
						<li><a href="#" id="other"><i class="icon-envelope"></i><span class="hidden-tablet"> Other</span></a></li>
					</ul>
				</div>
			</div>
			<!-- end: Main Menu -->
			
			<noscript>
				<div class="alert alert-block span10">
					<h4 class="alert-heading">Warning!</h4>
					<p>You need to have <a href="http://en.wikipedia.org/wiki/JavaScript" target="_blank">JavaScript</a> enabled to use this site.</p>
				</div>
			</noscript>
			
		<!-- start: Content -->
		<div id="content" class="span10">

		
		<!-- APP CONTENT -->
		

		</div><!--/.fluid-container-->
	
			<!-- end: Content -->
		</div><!--/#content.span10-->
		</div><!--/fluid-row-->
		
	
	
	<div class="clearfix"></div>
	
	<footer>

		<p>
			<span style="text-align:left;float:left">&copy; 2015</span>
			
		</p>

	</footer>

<!-- Modal Admin Settings-->
<div class="modal fade" id="myModal">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal">Ã—</button>
		<h3>Admin Settings</h3>
		<ul class="nav nav-tabs tabsAdmin nav-no-bottom">
			<li role="presentation" class="active tab1 tab" data-show="general"><a href="#">General</a></li>
			<li role="presentation" class="tab2 tab" data-show="switch"><a href="#">Switch Information</a></li>
			<li role="presentation" class="tab3 tab" data-show="dataset"><a href="#">Dataset</a></li>
		</ul>
	</div>
	<div class="modal-body">
		<!-- First Tab -->
		<div class="admin-general">
			<div class="bs-example" data-example-id="panel-with-footer">
			    <div class="panel panel-default">
			      <div class="panel-body">
			        Time in seconds to wait before rebuild the topology:
			        <span class="time">300 [s]</span>
			      </div>
			    </div>
			  </div>
			 <div class="zero-clipboard"></div>
			<div class="highlight">
				<div id="secondTopologyBuild"></div>
				<button type="button" id="admin-rebuild" class="btn btn-default rebuidTopo">
				  <span class="halflings-icon refresh" aria-hidden="true"></span> Rebuild Now!
				</button>
			</div>
			<div class="bs-example" data-example-id="panel-with-footer">
			    <div class="panel panel-default">
			      <div class="panel-body">
			        MongoDB information
			      </div>
			    </div>
			  </div>
			 <div class="zero-clipboard"></div>
			<div class="highlight">
				<div class="input-group">
				  <span class="input-group-addon" id="basic-addon1">IP&nbsp;&nbsp;&nbsp;&nbsp;</span>
				  <input type="text" id="mongoIP" class="form-control" placeholder="IP" aria-describedby="basic-addon1">
				</div>
				<div class="clear-fix"></div>
				<div class="input-group">
				  <span class="input-group-addon" id="basic-addon1">Port</span>
				  <input type="text" id="mongoPort" class="form-control" placeholder="Port" aria-describedby="basic-addon1">
				</div>
			</div>
			<div class="bs-example" data-example-id="panel-with-footer">
			    <div class="panel panel-default">
			      <div class="panel-body">
			        Time in seconds to wait before store information of the network:
			        <span class="timeQuery">10 [s]</span>
			      </div>
			    </div>
			  </div>
			 <div class="zero-clipboard"></div>
			<div class="highlight">
				<div id="secondQueryController"></div>
				<div class="">
					<div class="input-group">
						<span class="input-group-addon">
							<input type="checkbox" id="isRunningDaemon" aria-label="Active">
						</span>
						<span class="input-group-addon">
							Active
						</span>
					</div><!-- /input-group -->
			    </div>
			</div>
		</div>
		<!-- Second Tab -->
		<div class="admin-switch">
			<div class="bs-example tab2-data" data-example-id="list-group-custom-content">
				
			</div>
		</div>
		<!-- Third Tab -->
		<div class="admin-dataset">
			<div class="bs-example tab3-data" data-example-id="list-group-custom-content">
				bla bla
			</div>
		</div>
	</div>
	<div class="modal-footer">
		<a href="#" class="btn" data-dismiss="modal">Close</a>
		<a href="#" id="admin-save" class="btn btn-primary ">Save changes</a>
	</div>
</div>
	
	<!-- start: JavaScript-->
		<script src="js/jquery-1.9.1.min.js"></script>
		<script src="js/jquery-migrate-1.0.0.min.js"></script>
		<script src="js/jquery-ui-1.10.0.custom.min.js"></script>
		<script src="js/jquery.ui.touch-punch.js"></script>
		<script src="js/modernizr.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/jquery.cookie.js"></script>
		<script src='js/fullcalendar.min.js'></script>
		<script src='js/jquery.dataTables.min.js'></script>
		<script src="js/excanvas.js"></script>
		<script src="js/jquery.flot.js"></script>
		<script src="js/jquery.flot.pie.js"></script>
		<script src="js/jquery.flot.stack.js"></script>
		<script src="js/jquery.flot.categories.js"></script>
		<script src="js/jquery.flot.crosshair.js"></script>
		<script src="js/jquery.flot.resize.min.js"></script>
		<script src="js/jquery.chosen.min.js"></script>
		<script src="js/jquery.uniform.min.js"></script>
		<script src="js/jquery.cleditor.min.js"></script>	
		<script src="js/jquery.noty.js"></script>	
		<script src="js/jquery.elfinder.min.js"></script>	
		<script src="js/jquery.raty.min.js"></script>	
		<script src="js/jquery.iphone.toggle.js"></script>	
		<script src="js/jquery.uploadify-3.1.min.js"></script>	
		<script src="js/jquery.gritter.min.js"></script>	
		<script src="js/jquery.imagesloaded.js"></script>	
		<script src="js/jquery.masonry.min.js"></script>	
		<script src="js/jquery.knob.modified.js"></script>
		<script src="js/jquery.sparkline.min.js"></script>	
		<script src="js/counter.js"></script>	
		<!--<script src="js/retina.js"></script>-->
		<script src="js/width-fix.js"></script>
		<script src="js/d3.v3.min.js"></script>
		<script src="js/app/admin.js"></script>
	<!-- end: JavaScript-->
	<script>
	var _timer = 180; //s after to reload the page
	var last = "";
	var time = Math.floor(Date.now() / 1000);

	function reload(){
		var t = Math.floor(Date.now() / 1000);
		if( t - time > _timer && last != ""){
			time = t;
			$.get( last, function( data ) {
			  	$( "#content" ).html( data );
			});

			$.gritter.add({
				// (string | mandatory) the heading of the notification
				title: 'Page Reloaded',
				// (string | mandatory) the text inside the notification
				text: 'Page Reloaded @ time <u>' + time + '</u>',
				time: 2000
			});

		}
		setTimeout(reload, _timer);
	}
	//reload();

	function loadPage(uri){
		last = uri;
		time = Math.floor(Date.now() / 1000);
		$.get( uri , function( data ) {
		  	$( "#content" ).html( data );
		});
	}

	$(function(){
		$("#myModal").hide();
		
		$("#dashboard").on('click', function(){
			loadPage("/dashboard");
		});
		$("#network").on('click', function(){
			loadPage("/network");
		});
		$("#topology").on('click', function(){
			loadPage("/topology");
		});
		$("#prediction").on('click', function(){
			loadPage("/prediction");
		});
		$("#rule").on('click', function(){
			loadPage("/rule");
		});
		$("#behaviour").on('click', function(){
			loadPage("/behaviour");
		});
		$("#other").on('click', function(){
			loadPage("/other");
		});

		//Start w/ network
		$("#rule").trigger("click");


		//Just to don't recompile everytime
		$.ajax({
		  url: "admin.html",
		  context: document.body
		}).done(function(b) {
		  $( this ).append( b );
		  //$('#myModal').modal('show');
		});
		
	});

	function formatTime(unix){
		var date = new Date(unix*1000);

		var hours = date.getHours();
		var minutes = "0" + date.getMinutes();
		var seconds = "0" + date.getSeconds();
		var formattedTime = hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);

		var year = date.getFullYear();
		var month = "0" + date.getMonth();
		var days = "0" + date.getDay();
		var formattedDay = year + '/' + month.substr(-2) + '/' + days.substr(-2);

		return formattedTime + " " + formattedDay;
	}
	</script>
</body>
</html>
