<ul class="breadcrumb">
	<li>
		<i class="icon-home"></i>
		<a href="/">Home</a> 
		<i class="icon-angle-right"></i>
	</li>
	<li>
		<a id="breadcrumb_1" href="#">Add Rule</a>
		<i class="icon-angle-right"></i>
	</li>
</ul>

<div class="box">
	<div class="box-header" data-original-title="">
		<h2><i class="halflings-icon list"></i><span class="break"></span>Add a new Rule</h2>
	</div>
	<div class="box-content">
		<div class="alert alert-danger errList" role="alert"></div>
		<div class="bs-example table-responsive" data-example-id="simple-table">
			<form class="form-horizontal">
		    	<div class="form-group" id="ruleNameDiv">
					<label for="ruleName" class="col-sm-2 control-label">Name</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" id="ruleName" placeholder="Rule Name">
					</div>
				</div>
				<div class="form-group">
					<label for="switchList" class="col-sm-2 control-label">Switch</label>
					<div class="col-sm-10">
						<select class="form-control" id="switchList">
						</select>
					</div>
				</div>
				<div class="form-group">
					<label for="priority" class="col-sm-2 control-label">Priority</label>
					<div class="col-sm-10">
						<input type="number" class="form-control" id="priority" placeholder="Priority">
					</div>
				</div>
				<div class="form-group">
					<label for="inport" class="col-sm-2 control-label">In Port</label>
					<div class="col-sm-10">
						<select class="form-control" id="inport">
						</select>
					</div>
				</div>
				<div id="actionRows"></div>
				<div class="space"></div>
				<div class="col-xs-12" style="text-align: center">
					<button type="button" class="btn btn-info" id="cancBtn" aria-label="Abort Insert Action">
						<span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Cancel
					</button>
					<button type="button" class="btn btn-success" id="saveBtn" aria-label="Add new Action">
						<span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Save
					</button>
				</div>
				</div>
		    </form>
  		</div>
	</div>
</div>

<div id="templateRow" class="hide">
	<div class="form-group addAction">
		<label for="action" class="col-xs-12 col-sm-2 control-label">Action</label>
		<div class="col-xs-12 col-sm-4">
			<select class="form-control actionType">
			<!-- 
			Generated from console with 
			$("#tblAction").find("td:nth-child(1) > p").each(function(){ htmlOut += "<option value='" + $(this).html() + "'>" + $(this).html() + "</option>\n"; })
			from
			https://floodlight.atlassian.net/wiki/pages/viewpage.action?pageId=1343518
			-->
				<option value='output'>output</option>
				<option value='table'>table</option>
				<option value='group'>group</option>
				<option value='enqueue'>enqueue</option>
				<option value='set_queue'>set_queue</option>
				<option value='strip_vlan'>strip_vlan</option>
				<option value='set_vlan_vid'>set_vlan_vid</option>
				<option value='set_vlan_pcp'>set_vlan_pcp</option>
				<option value='push_vlan'>push_vlan</option>
				<option value='pop_vlan'>pop_vlan</option>
				<option value='set_eth_src'>set_eth_src</option>
				<option value='set_eth_dst'>set_eth_dst</option>
				<option value='set_ip_tos'>set_ip_tos</option>
				<option value='set_ip_ecn'>set_ip_ecn</option>
				<option value='set_ipv4_src'>set_ipv4_src</option>
				<option value='set_ipv4_dst'>set_ipv4_dst</option>
				<option value='set_ip_ttl'>set_ip_ttl</option>
				<option value='dec_ip_ttl'>dec_ip_ttl</option>
				<option value='copy_ip_ttl_in'>copy_ip_ttl_in</option>
				<option value='copy_ip_ttl_out'>copy_ip_ttl_out</option>
				<option value='set_mpls_label'>set_mpls_label</option>
				<option value='set_mpls_tc'>set_mpls_tc</option>
				<option value='set_mpls_ttl'>set_mpls_ttl</option>
				<option value='dec_mpls_ttl'>dec_mpls_ttl</option>
				<option value='push_mpls'>push_mpls</option>
				<option value='pop_mpls'>pop_mpls</option>
				<option value='push_pbb'>push_pbb</option>
				<option value='pop_pbb'>pop_pbb</option>
				<option value='set_tp_src'>set_tp_src</option>
				<option value='set_tp_dst'>set_tp_dst</option>
				<option value='set_field'>set_field</option>
			</select>
		</div>
		<div class="col-xs-12 col-sm-4">
			<input type="text" class="actionValue form-control" />
		</div>
		<div class="col-xs-12 col-sm-12 col-lg-2" style="text-align: center">
			<button type="button" class="btn btn-danger removeThis" aria-label="Remove Action">
				<span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
			</button>
			<button type="button" class="btn btn-success addRow" aria-label="Add new Action">
				<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
			</button>
		</div>
	</div>
</div>

<script>
$(function() {
	$('.btn-minimize').on('click', function(e){
		console.log("min");
		e.preventDefault();
		var $target = $(this).parent().parent().next('.box-content');
		if($target.is(':visible')) $('i',$(this)).removeClass('chevron-up').addClass('chevron-down');
		else 					   $('i',$(this)).removeClass('chevron-down').addClass('chevron-up');
		$target.slideToggle();
	});
})
</script>

<script src="js/app/rule.js"></script>